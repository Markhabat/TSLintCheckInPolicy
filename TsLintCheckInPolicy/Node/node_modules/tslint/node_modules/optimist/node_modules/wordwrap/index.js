var wordwrap=module.exports=function(n,t,i){typeof n=="object"&&(i=n,n=i.start,t=i.stop);typeof t=="object"&&(i=t,n=n||i.start,t=undefined);t||(t=n,n=0);i||(i={});var r=i.mode||"soft",u=r==="hard"?/\b/:/(\S+\s+)/;return function(i){var f=i.toString().split(u).reduce(function(i,u){if(r==="hard")for(var f=0;f<u.length;f+=t-n)i.push(u.slice(f,f+t-n));else i.push(u);return i},[]);return f.reduce(function(i,r){var u,f,e;return r===""?i:(u=r.replace(/\t/g,"    "),f=i.length-1,i[f].length+u.length>t?(i[f]=i[f].replace(/\s+$/,""),u.split(/\n/).forEach(function(t){i.push(new Array(n+1).join(" ")+t.replace(/^\s+/,""))})):u.match(/\n/)?(e=u.split(/\n/),i[f]+=e.shift(),e.forEach(function(t){i.push(new Array(n+1).join(" ")+t.replace(/^\s+/,""))})):i[f]+=u,i)},[new Array(n+1).join(" ")]).join("\n")}};wordwrap.soft=wordwrap;wordwrap.hard=function(n,t){return wordwrap(n,t,{mode:"hard"})}