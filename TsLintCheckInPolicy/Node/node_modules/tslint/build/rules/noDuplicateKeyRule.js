var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Rule=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.apply=function(n){return this.applyWithWalker(new NoDuplicateKeyWalker(n,this.getOptions()))},t.FAILURE_STRING="duplicate key '",t}(Lint.Rules.AbstractRule),NoDuplicateKeyWalker;exports.Rule=Rule;NoDuplicateKeyWalker=function(n){function t(){n.apply(this,arguments);this.objectKeysStack=[]}return __extends(t,n),t.prototype.visitObjectLiteralExpression=function(t){this.objectKeysStack.push(Object.create(null));n.prototype.visitObjectLiteralExpression.call(this,t);this.objectKeysStack.pop()},t.prototype.visitPropertyAssignment=function(t){var u=this.objectKeysStack[this.objectKeysStack.length-1],i=t.name,r,f;i.kind===63&&(r=i.text,u[r]?(f=Rule.FAILURE_STRING+r+"'",this.addFailure(this.createFailure(i.getStart(),i.getWidth(),f))):u[r]=!0);n.prototype.visitPropertyAssignment.call(this,t)},t}(Lint.RuleWalker)