var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Rule=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.apply=function(n){return this.applyWithWalker(new LabelUndefinedWalker(n,this.getOptions()))},t.FAILURE_STRING="undefined label: '",t}(Lint.Rules.AbstractRule),LabelUndefinedWalker;exports.Rule=Rule;LabelUndefinedWalker=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.createScope=function(){return{}},t.prototype.visitLabeledStatement=function(t){var i=t.label.text,r=this.getCurrentScope();r[i]=!0;n.prototype.visitLabeledStatement.call(this,t)},t.prototype.visitBreakStatement=function(t){this.validateLabelAt(t.label,t.getStart(),t.getChildAt(0).getWidth());n.prototype.visitBreakStatement.call(this,t)},t.prototype.visitContinueStatement=function(t){this.validateLabelAt(t.label,t.getStart(),t.getChildAt(0).getWidth());n.prototype.visitContinueStatement.call(this,t)},t.prototype.validateLabelAt=function(n,t,i){var f=this.getCurrentScope(),r,u;n==null||f[n.text]||(r=Rule.FAILURE_STRING+n.text+"'",u=this.createFailure(t,i,r),this.addFailure(u))},t}(Lint.ScopeAwareRuleWalker)