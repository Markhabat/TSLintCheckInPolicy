var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Rule=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.apply=function(n){return this.applyWithWalker(new NoDuplicateVariableWalker(n,this.getOptions()))},t.FAILURE_STRING="duplicate variable: '",t}(Lint.Rules.AbstractRule),NoDuplicateVariableWalker,ScopeInfo;exports.Rule=Rule;NoDuplicateVariableWalker=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.createScope=function(){return new ScopeInfo},t.prototype.visitVariableDeclaration=function(t){var i=t.name,r=i.text,u=this.getCurrentScope(),e=Math.floor(t.flags/2048)%2==1,f=Rule.FAILURE_STRING+r+"'";u.varNames.indexOf(r)>=0?this.addFailure(this.createFailure(i.getStart(),i.getWidth(),f)):e?u.letNames.push(r):u.letNames.indexOf(r)>=0?this.addFailure(this.createFailure(i.getStart(),i.getWidth(),f)):u.varNames.push(r);n.prototype.visitVariableDeclaration.call(this,t)},t}(Lint.ScopeAwareRuleWalker);ScopeInfo=function(){function n(){this.varNames=[];this.letNames=[]}return n}()