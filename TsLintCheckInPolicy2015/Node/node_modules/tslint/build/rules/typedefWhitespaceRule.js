var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Rule=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.apply=function(n){return this.applyWithWalker(new TypedefWhitespaceWalker(n,this.getOptions()))},t.FAILURE_STRING="missing type declaration",t}(Lint.Rules.AbstractRule),TypedefWhitespaceWalker;exports.Rule=Rule;TypedefWhitespaceWalker=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.visitFunctionDeclaration=function(t){this.checkSpace("call-signature",t,t.type,t.parameters.end+1);n.prototype.visitFunctionDeclaration.call(this,t)},t.prototype.visitFunctionExpression=function(t){this.checkSpace("call-signature",t,t.type,t.parameters.end+1);n.prototype.visitFunctionExpression.call(this,t)},t.prototype.visitGetAccessor=function(t){this.checkSpace("call-signature",t,t.type,t.parameters.end+1);n.prototype.visitGetAccessor.call(this,t)},t.prototype.visitIndexSignatureDeclaration=function(t){var i=t.parameters[0];i!=null&&this.checkSpace("index-signature",i,i.type,i.name.getEnd());n.prototype.visitIndexSignatureDeclaration.call(this,t)},t.prototype.visitMethodDeclaration=function(t){this.checkSpace("call-signature",t,t.type,t.parameters.end+1);n.prototype.visitMethodDeclaration.call(this,t)},t.prototype.visitParameterDeclaration=function(t){this.checkSpace("parameter",t,t.type,t.name.getEnd());n.prototype.visitParameterDeclaration.call(this,t)},t.prototype.visitPropertyDeclaration=function(t){this.checkSpace("property-declaration",t,t.type,t.name.getEnd());n.prototype.visitPropertyDeclaration.call(this,t)},t.prototype.visitSetAccessor=function(t){this.checkSpace("call-signature",t,t.type,t.parameters.end+1);n.prototype.visitSetAccessor.call(this,t)},t.prototype.visitVariableDeclaration=function(t){this.checkSpace("variable-declaration",t,t.type,t.name.getEnd());n.prototype.visitVariableDeclaration.call(this,t)},t.prototype.checkSpace=function(n,t,i,r){var f,u,e;this.hasOption(n)&&i!=null&&r!=null&&(u=ts.createScanner(1,!1,t.getText()),u.setTextPos(r-t.getStart()),f=u.scan()===5,f!==(this.getOption(n)==="space")&&(e="expected "+this.getOption(n)+" in "+n,this.addFailure(this.createFailure(r,1,e))))},t.prototype.hasOption=function(n){var t=this.getOptions(),i;return t==null||t.length===0?!1:(i=t[0],i==null||i[n]!=null)},t.prototype.getOption=function(n){var t=this.getOptions(),i;return t==null||t.length===0?null:(i=t[0],i[n])},t}(Lint.RuleWalker)