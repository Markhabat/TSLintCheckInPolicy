var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},Rule=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.apply=function(n){return this.applyWithWalker(new BlockWalker(n,this.getOptions()))},t.FAILURE_STRING="block is empty",t}(Lint.Rules.AbstractRule),BlockWalker;exports.Rule=Rule;BlockWalker=function(n){function t(){n.apply(this,arguments);this.ignoredBlocks=[]}return __extends(t,n),t.prototype.visitBlock=function(t){var r=t.getChildAt(0),u=t.getChildAt(t.getChildCount()-1),i=t.getSourceFile().text,f=ts.getTrailingCommentRanges(i,r.getEnd())!=null,e=ts.getLeadingCommentRanges(i,u.getFullStart())!=null,o=this.ignoredBlocks.indexOf(t)!==-1;t.statements.length<=0&&!f&&!e&&!o&&this.addFailure(this.createFailure(t.getStart(),t.getWidth(),Rule.FAILURE_STRING));n.prototype.visitBlock.call(this,t)},t.prototype.visitConstructorDeclaration=function(t){for(var i,r,f,e=!1,o=t.parameters,u=0;u<o.length;u++){for(i=o[u],r=0;i.modifiers!=null&&r<i.modifiers.length;r++)if(f=i.modifiers[r].kind,f===106||f===104){e=!0;this.ignoredBlocks.push(t.body);break}if(e)break}n.prototype.visitConstructorDeclaration.call(this,t)},t}(Lint.RuleWalker)