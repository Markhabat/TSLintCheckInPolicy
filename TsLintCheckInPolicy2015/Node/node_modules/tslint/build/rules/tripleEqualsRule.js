var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},OPTION_ALLOW_NULL_CHECK="allow-null-check",Rule=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.apply=function(n){var t=new ComparisonWalker(n,this.getOptions());return this.applyWithWalker(t)},t.EQ_FAILURE_STRING="== should be ===",t.NEQ_FAILURE_STRING="!= should be !==",t}(Lint.Rules.AbstractRule),ComparisonWalker;exports.Rule=Rule;ComparisonWalker=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.visitBinaryExpression=function(t){if(!this.isExpressionAllowed(t)){var i=t.getChildAt(1).getStart();this.handleOperatorToken(i,t.operator)}n.prototype.visitBinaryExpression.call(this,t)},t.prototype.handleOperatorToken=function(n,i){switch(i){case 27:this.addFailure(this.createFailure(n,t.COMPARISON_OPERATOR_WIDTH,Rule.EQ_FAILURE_STRING));break;case 28:this.addFailure(this.createFailure(n,t.COMPARISON_OPERATOR_WIDTH,Rule.NEQ_FAILURE_STRING))}},t.prototype.isExpressionAllowed=function(n){var t=87;return this.hasOption(OPTION_ALLOW_NULL_CHECK)&&(n.left.kind===t||n.right.kind===t)},t.COMPARISON_OPERATOR_WIDTH=2,t}(Lint.RuleWalker)